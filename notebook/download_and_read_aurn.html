

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Obtain the data from AURN &mdash; ObsAQ v0.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=9edc463e" />
      <link rel="stylesheet" type="text/css" href="../_static/nbsphinx-code-cells.css?v=2aa19091" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=8b92e751"></script>
      <script src="../_static/doctools.js?v=fd6eb6e6"></script>
      <script src="../_static/sphinx_highlight.js?v=6ffebe34"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
      <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
      <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@4/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            ObsAQ
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../overview.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview.html#installation">Installation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tutorial</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="read_aurn.html">Read the data from AURN</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Maps</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../map.html">Check out the avaialble stations</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ObsAQ</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Obtain the data from AURN</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/notebook/download_and_read_aurn.ipynb.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="Obtain-the-data-from-AURN">
<h1>Obtain the data from AURN<a class="headerlink" href="#Obtain-the-data-from-AURN" title="Link to this heading"></a></h1>
<section id="Download-data-by-a-bounds-of-longitude-and-latitude">
<h2>Download data by a bounds of longitude and latitude<a class="headerlink" href="#Download-data-by-a-bounds-of-longitude-and-latitude" title="Link to this heading"></a></h2>
<p>Users can give a bounds of longitude and latitude to download the station data.</p>
<section id="Load-the-ObsAQ-package-and-Define-the-range">
<h3>Load the ObsAQ package and Define the range<a class="headerlink" href="#Load-the-ObsAQ-package-and-Define-the-range" title="Link to this heading"></a></h3>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">obsaq</span>

<span class="n">lon_min</span> <span class="o">=</span> <span class="o">-</span><span class="mi">9</span>
<span class="n">lon_max</span> <span class="o">=</span> <span class="mf">1.8</span>
<span class="n">lat_min</span> <span class="o">=</span> <span class="mi">49</span>
<span class="n">lat_max</span> <span class="o">=</span> <span class="mi">61</span>
<span class="n">bounds</span><span class="o">=</span><span class="p">[</span><span class="n">lon_min</span><span class="p">,</span> <span class="n">lon_max</span><span class="p">,</span> <span class="n">lat_min</span><span class="p">,</span> <span class="n">lat_max</span><span class="p">]</span>
</pre></div>
</div>
</div>
</section>
<section id="Get-the-station-metadata">
<h3>Get the station metadata<a class="headerlink" href="#Get-the-station-metadata" title="Link to this heading"></a></h3>
<p>NOTE: This is the all station information and the next step will choose the stations by bounds.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">meta</span> <span class="o">=</span> <span class="n">obsaq</span><span class="o">.</span><span class="n">meta</span><span class="p">()</span>
<span class="n">site_table</span> <span class="o">=</span> <span class="n">meta</span><span class="o">.</span><span class="n">get_metadata</span><span class="p">(</span><span class="s1">&#39;aurn&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
<section id="Choose-the-stations-by-range">
<h3>Choose the stations by range<a class="headerlink" href="#Choose-the-stations-by-range" title="Link to this heading"></a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">final_sites</span> <span class="o">=</span> <span class="n">meta</span><span class="o">.</span><span class="n">get_site</span><span class="p">(</span><span class="n">bounds</span><span class="o">=</span><span class="n">bounds</span><span class="p">)</span>
<span class="n">final_sites</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Site is selected by bounds: [-9, 1.8, 49, 61]
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>site_id</th>
      <th>site_name</th>
      <th>location_type</th>
      <th>latitude</th>
      <th>longitude</th>
      <th>parameter</th>
      <th>Parameter_name</th>
      <th>start_date</th>
      <th>end_date</th>
      <th>ratified_to</th>
      <th>zone</th>
      <th>agglomeration</th>
      <th>local_authority</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>ABD</td>
      <td>Aberdeen</td>
      <td>Urban Background</td>
      <td>57.15736</td>
      <td>-2.094278</td>
      <td>O3</td>
      <td>Ozone</td>
      <td>2003-08-01</td>
      <td>2021-09-20</td>
      <td>2021-09-20</td>
      <td>North East Scotland</td>
      <td>NaN</td>
      <td>Aberdeen City</td>
    </tr>
    <tr>
      <th>1</th>
      <td>ABD</td>
      <td>Aberdeen</td>
      <td>Urban Background</td>
      <td>57.15736</td>
      <td>-2.094278</td>
      <td>NO</td>
      <td>Nitric oxide</td>
      <td>1999-09-18</td>
      <td>2021-09-20</td>
      <td>2021-09-20</td>
      <td>North East Scotland</td>
      <td>NaN</td>
      <td>Aberdeen City</td>
    </tr>
    <tr>
      <th>2</th>
      <td>ABD</td>
      <td>Aberdeen</td>
      <td>Urban Background</td>
      <td>57.15736</td>
      <td>-2.094278</td>
      <td>NO2</td>
      <td>Nitrogen dioxide</td>
      <td>1999-09-18</td>
      <td>2021-09-20</td>
      <td>2021-09-20</td>
      <td>North East Scotland</td>
      <td>NaN</td>
      <td>Aberdeen City</td>
    </tr>
    <tr>
      <th>3</th>
      <td>ABD</td>
      <td>Aberdeen</td>
      <td>Urban Background</td>
      <td>57.15736</td>
      <td>-2.094278</td>
      <td>NOXasNO2</td>
      <td>Nitrogen oxides as nitrogen dioxide</td>
      <td>1999-09-18</td>
      <td>2021-09-20</td>
      <td>2021-09-20</td>
      <td>North East Scotland</td>
      <td>NaN</td>
      <td>Aberdeen City</td>
    </tr>
    <tr>
      <th>4</th>
      <td>ABD</td>
      <td>Aberdeen</td>
      <td>Urban Background</td>
      <td>57.15736</td>
      <td>-2.094278</td>
      <td>SO2</td>
      <td>Sulphur dioxide</td>
      <td>2001-01-01</td>
      <td>2007-09-30</td>
      <td>2007-09-30</td>
      <td>North East Scotland</td>
      <td>NaN</td>
      <td>Aberdeen City</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</section>
<section id="Start-to-download-the-selected-station-data">
<h3>Start to download the selected station data<a class="headerlink" href="#Start-to-download-the-selected-station-data" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">pollutant</span></code>: See names of pollutants. Define one pollutant, diverse pollutants or all pollutants to download the data for them. Pollutants can be defined as “PM2.5”,”PM10”,”O3”,”NO”,”NO2”,”NOXasNO2” or “SO2”.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">start</span></code>: the start date of data to be downloaded.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">end</span></code>: the end date of data to be downloaded.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">year</span></code>: the year of data to be downloaded. Defaults to 2010.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">output_dir</span></code>: the directory to save the downloaded data.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">download_mode</span></code>: “Stream” for saving final and intermediate files while “memory” for only the final file.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">save_per_site</span></code>: whether save files for every station individually.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">save_merged</span></code>: whether save the merged file for all selected data.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">add_site_id</span></code>: whether include site id in the downloaded file.</p></li>
</ul>
<p>Download data for every station. Decide whether to download the final merged data for all targeted stations by choosing “save_merged=True/False”.</p>
<p>Warnings are normal for merging data with different format. Ingoring them can be fine.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">merged_df</span> <span class="o">=</span> <span class="n">meta</span><span class="o">.</span><span class="n">download_sites</span><span class="p">(</span>
    <span class="n">port</span><span class="o">=</span><span class="s2">&quot;aurn&quot;</span><span class="p">,</span>
    <span class="n">pollutant</span><span class="o">=</span><span class="s2">&quot;PM2.5&quot;</span><span class="p">,</span>
    <span class="n">start</span><span class="o">=</span><span class="s2">&quot;2017-12-01&quot;</span><span class="p">,</span>
    <span class="n">end</span><span class="o">=</span><span class="s2">&quot;2018-11-30&quot;</span><span class="p">,</span>
    <span class="n">output_dir</span><span class="o">=</span><span class="s2">&quot;data/test_pm25&quot;</span><span class="p">,</span>
    <span class="n">download_mode</span><span class="o">=</span><span class="s2">&quot;stream&quot;</span><span class="p">,</span>
    <span class="n">save_per_site</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">save_merged</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">add_site_id</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
     site_id        site_name     location_type   latitude  longitude  \
0        ABD         Aberdeen  Urban Background  57.157360  -2.094278
1        ABD         Aberdeen  Urban Background  57.157360  -2.094278
2        ABD         Aberdeen  Urban Background  57.157360  -2.094278
3        ABD         Aberdeen  Urban Background  57.157360  -2.094278
6        ABD         Aberdeen  Urban Background  57.157360  -2.094278
...      ...              ...               ...        ...        ...
3057    YK11  York Fishergate     Urban Traffic  53.951889  -1.075861
3058    YK11  York Fishergate     Urban Traffic  53.951889  -1.075861
3059    YK11  York Fishergate     Urban Traffic  53.951889  -1.075861
3060    YK11  York Fishergate     Urban Traffic  53.951889  -1.075861
3061    YK11  York Fishergate     Urban Traffic  53.951889  -1.075861

     parameter                             Parameter_name  start_date  \
0           O3                                      Ozone  2003-08-01
1           NO                               Nitric oxide  1999-09-18
2          NO2                           Nitrogen dioxide  1999-09-18
3     NOXasNO2        Nitrogen oxides as nitrogen dioxide  1999-09-18
6         PM10  PM10 particulate matter (Hourly measured)  1999-09-18
...        ...                                        ...         ...
3057     NV2.5       Non-volatile PM2.5 (Hourly measured)  2011-08-31
3058      V2.5           Volatile PM2.5 (Hourly measured)  2011-08-31
3059        wd                    Modelled Wind Direction  2010-08-01
3060        ws                        Modelled Wind Speed  2010-08-01
3061      temp                       Modelled Temperature  2010-08-01

        end_date ratified_to                    zone agglomeration  \
0     2021-09-20  2021-09-20     North East Scotland           NaN
1     2021-09-20  2021-09-20     North East Scotland           NaN
2     2021-09-20  2021-09-20     North East Scotland           NaN
3     2021-09-20  2021-09-20     North East Scotland           NaN
6     2021-09-20  2021-09-20     North East Scotland           NaN
...          ...         ...                     ...           ...
3057  2018-10-10  2018-10-10  Yorkshire &amp; Humberside           NaN
3058  2018-10-10  2018-10-10  Yorkshire &amp; Humberside           NaN
3059     ongoing       Never  Yorkshire &amp; Humberside           NaN
3060     ongoing       Never  Yorkshire &amp; Humberside           NaN
3061     ongoing       Never  Yorkshire &amp; Humberside           NaN

     local_authority
0      Aberdeen City
1      Aberdeen City
2      Aberdeen City
3      Aberdeen City
6      Aberdeen City
...              ...
3057            York
3058            York
3059            York
3060            York
3061            York

[1625 rows x 13 columns]
Saved per-site file: data/test_pm25/ABD_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/ACTH_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/AGRN_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/BEL2_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/BEX_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/BIRR_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/BLC2_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/BMLD_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/BORN_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/BPLE_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/BRS8_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/CA1_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/CARD_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/CARL_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/CHAT_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/CHBO_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/CHBR_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/CHLG_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/CHP_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/CHS7_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/CLL2_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/COAL_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/DERR_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/EAGL_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/EB_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/ECCL_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/ED3_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/GHSR_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/GKA8_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/GLKP_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/GRAN_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/HOPE_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/HORS_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/HRL_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/HUL2_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/INV2_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/KC1_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/LEAM_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/LEAR_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/LECU_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/LED6_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/LEED_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/LN_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/LON6_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/LVP_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/MAN3_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/MID_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/MY1_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/NEWC_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/NO12_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/NOTT_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/NPT3_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/NTN4_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/OX8_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/PEMB_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/PLYM_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/PMTH_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/PRES_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/PT4_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/REA1_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/ROCH_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/SASH_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/SDY_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/SEND_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/SHBR_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/SHDG_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/SOTR_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/SOUT_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/STOK_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/STOR_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/SUN2_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/SWA1_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/TED2_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/TRAN_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/WAR_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/WIG5_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/WREX_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/WTHG_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/YK10_PM2.5_20171201_20181130.csv
Saved per-site file: data/test_pm25/YK11_PM2.5_20171201_20181130.csv
Saved merged file: data/test_pm25/MERGED_aurn_PM2.5_20171201_20181130.csv
</pre></div></div>
</div>
</section>
</section>
<section id="Download-data-by-a-point-of-longitude-and-latitude">
<h2>Download data by a point of longitude and latitude<a class="headerlink" href="#Download-data-by-a-point-of-longitude-and-latitude" title="Link to this heading"></a></h2>
<p>Users can give a point of longitude and latitude to download the station data.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">obsaq</span>

<span class="n">lon</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="n">lat</span> <span class="o">=</span> <span class="mf">55.0</span>
<span class="n">point</span> <span class="o">=</span> <span class="p">[</span><span class="n">lon</span><span class="p">,</span> <span class="n">lat</span><span class="p">]</span>
</pre></div>
</div>
</div>
<p>NOTE: This is the all station information and the next step will choose the stations by point.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">meta</span> <span class="o">=</span> <span class="n">obsaq</span><span class="o">.</span><span class="n">meta</span><span class="p">()</span>
<span class="n">site_table</span> <span class="o">=</span> <span class="n">meta</span><span class="o">.</span><span class="n">get_metadata</span><span class="p">(</span><span class="s1">&#39;aurn&#39;</span><span class="p">)</span>

<span class="n">site_table</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>site_id</th>
      <th>site_name</th>
      <th>location_type</th>
      <th>latitude</th>
      <th>longitude</th>
      <th>parameter</th>
      <th>Parameter_name</th>
      <th>start_date</th>
      <th>end_date</th>
      <th>ratified_to</th>
      <th>zone</th>
      <th>agglomeration</th>
      <th>local_authority</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>ABD</td>
      <td>Aberdeen</td>
      <td>Urban Background</td>
      <td>57.15736</td>
      <td>-2.094278</td>
      <td>O3</td>
      <td>Ozone</td>
      <td>2003-08-01</td>
      <td>2021-09-20</td>
      <td>2021-09-20</td>
      <td>North East Scotland</td>
      <td>NaN</td>
      <td>Aberdeen City</td>
    </tr>
    <tr>
      <th>1</th>
      <td>ABD</td>
      <td>Aberdeen</td>
      <td>Urban Background</td>
      <td>57.15736</td>
      <td>-2.094278</td>
      <td>NO</td>
      <td>Nitric oxide</td>
      <td>1999-09-18</td>
      <td>2021-09-20</td>
      <td>2021-09-20</td>
      <td>North East Scotland</td>
      <td>NaN</td>
      <td>Aberdeen City</td>
    </tr>
    <tr>
      <th>2</th>
      <td>ABD</td>
      <td>Aberdeen</td>
      <td>Urban Background</td>
      <td>57.15736</td>
      <td>-2.094278</td>
      <td>NO2</td>
      <td>Nitrogen dioxide</td>
      <td>1999-09-18</td>
      <td>2021-09-20</td>
      <td>2021-09-20</td>
      <td>North East Scotland</td>
      <td>NaN</td>
      <td>Aberdeen City</td>
    </tr>
    <tr>
      <th>3</th>
      <td>ABD</td>
      <td>Aberdeen</td>
      <td>Urban Background</td>
      <td>57.15736</td>
      <td>-2.094278</td>
      <td>NOXasNO2</td>
      <td>Nitrogen oxides as nitrogen dioxide</td>
      <td>1999-09-18</td>
      <td>2021-09-20</td>
      <td>2021-09-20</td>
      <td>North East Scotland</td>
      <td>NaN</td>
      <td>Aberdeen City</td>
    </tr>
    <tr>
      <th>4</th>
      <td>ABD</td>
      <td>Aberdeen</td>
      <td>Urban Background</td>
      <td>57.15736</td>
      <td>-2.094278</td>
      <td>SO2</td>
      <td>Sulphur dioxide</td>
      <td>2001-01-01</td>
      <td>2007-09-30</td>
      <td>2007-09-30</td>
      <td>North East Scotland</td>
      <td>NaN</td>
      <td>Aberdeen City</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">final_sites</span> <span class="o">=</span> <span class="n">meta</span><span class="o">.</span><span class="n">get_site</span><span class="p">(</span><span class="n">point</span><span class="o">=</span><span class="n">point</span><span class="p">)</span>
<span class="n">final_sites</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Site is selected by point: [0.0, 55.0]
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>site_id</th>
      <th>site_name</th>
      <th>location_type</th>
      <th>latitude</th>
      <th>longitude</th>
      <th>parameter</th>
      <th>Parameter_name</th>
      <th>start_date</th>
      <th>end_date</th>
      <th>ratified_to</th>
      <th>zone</th>
      <th>agglomeration</th>
      <th>local_authority</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1267</th>
      <td>HM</td>
      <td>High Muffles</td>
      <td>Rural Background</td>
      <td>54.334497</td>
      <td>-0.80882</td>
      <td>O3</td>
      <td>Ozone</td>
      <td>1987-07-16</td>
      <td>ongoing</td>
      <td>2025-09-30</td>
      <td>Yorkshire &amp; Humberside</td>
      <td>NaN</td>
      <td>Ryedale</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<ul class="simple">
<li><p>Use “start” and “end” to define a period of time.</p></li>
<li><p>Other parameters are the same as “Download data by a bounds of longitude and latitude” part</p></li>
</ul>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">meta</span><span class="o">.</span><span class="n">download_sites</span><span class="p">(</span>
    <span class="n">port</span><span class="o">=</span><span class="s2">&quot;aurn&quot;</span><span class="p">,</span>
    <span class="n">pollutant</span><span class="o">=</span><span class="s2">&quot;PM2.5&quot;</span><span class="p">,</span>
    <span class="n">start</span><span class="o">=</span><span class="s2">&quot;2017-12-01&quot;</span><span class="p">,</span>
    <span class="n">end</span><span class="o">=</span><span class="s2">&quot;2018-11-30&quot;</span><span class="p">,</span>
    <span class="n">output_dir</span><span class="o">=</span><span class="s2">&quot;data/test_pm25_station&quot;</span><span class="p">,</span>
    <span class="n">download_mode</span><span class="o">=</span><span class="s2">&quot;stream&quot;</span><span class="p">,</span>
    <span class="n">save_per_site</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">save_merged</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">add_site_id</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
     site_id     site_name     location_type   latitude  longitude parameter  \
1267      HM  High Muffles  Rural Background  54.334497   -0.80882        O3

     Parameter_name  start_date end_date ratified_to                    zone  \
1267          Ozone  1987-07-16  ongoing  2025-09-30  Yorkshire &amp; Humberside

     agglomeration local_authority
1267           NaN         Ryedale
</pre></div></div>
</div>
</section>
<section id="Download-data-by-site_id">
<h2>Download data by site_id<a class="headerlink" href="#Download-data-by-site_id" title="Link to this heading"></a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">obsaq</span>

<span class="n">meta</span> <span class="o">=</span> <span class="n">obsaq</span><span class="o">.</span><span class="n">meta</span><span class="p">()</span>
<span class="n">site_table</span> <span class="o">=</span> <span class="n">meta</span><span class="o">.</span><span class="n">get_metadata</span><span class="p">(</span><span class="s1">&#39;aurn&#39;</span><span class="p">)</span>

<span class="n">site_table</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>site_id</th>
      <th>site_name</th>
      <th>location_type</th>
      <th>latitude</th>
      <th>longitude</th>
      <th>parameter</th>
      <th>Parameter_name</th>
      <th>start_date</th>
      <th>end_date</th>
      <th>ratified_to</th>
      <th>zone</th>
      <th>agglomeration</th>
      <th>local_authority</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>ABD</td>
      <td>Aberdeen</td>
      <td>Urban Background</td>
      <td>57.15736</td>
      <td>-2.094278</td>
      <td>O3</td>
      <td>Ozone</td>
      <td>2003-08-01</td>
      <td>2021-09-20</td>
      <td>2021-09-20</td>
      <td>North East Scotland</td>
      <td>NaN</td>
      <td>Aberdeen City</td>
    </tr>
    <tr>
      <th>1</th>
      <td>ABD</td>
      <td>Aberdeen</td>
      <td>Urban Background</td>
      <td>57.15736</td>
      <td>-2.094278</td>
      <td>NO</td>
      <td>Nitric oxide</td>
      <td>1999-09-18</td>
      <td>2021-09-20</td>
      <td>2021-09-20</td>
      <td>North East Scotland</td>
      <td>NaN</td>
      <td>Aberdeen City</td>
    </tr>
    <tr>
      <th>2</th>
      <td>ABD</td>
      <td>Aberdeen</td>
      <td>Urban Background</td>
      <td>57.15736</td>
      <td>-2.094278</td>
      <td>NO2</td>
      <td>Nitrogen dioxide</td>
      <td>1999-09-18</td>
      <td>2021-09-20</td>
      <td>2021-09-20</td>
      <td>North East Scotland</td>
      <td>NaN</td>
      <td>Aberdeen City</td>
    </tr>
    <tr>
      <th>3</th>
      <td>ABD</td>
      <td>Aberdeen</td>
      <td>Urban Background</td>
      <td>57.15736</td>
      <td>-2.094278</td>
      <td>NOXasNO2</td>
      <td>Nitrogen oxides as nitrogen dioxide</td>
      <td>1999-09-18</td>
      <td>2021-09-20</td>
      <td>2021-09-20</td>
      <td>North East Scotland</td>
      <td>NaN</td>
      <td>Aberdeen City</td>
    </tr>
    <tr>
      <th>4</th>
      <td>ABD</td>
      <td>Aberdeen</td>
      <td>Urban Background</td>
      <td>57.15736</td>
      <td>-2.094278</td>
      <td>SO2</td>
      <td>Sulphur dioxide</td>
      <td>2001-01-01</td>
      <td>2007-09-30</td>
      <td>2007-09-30</td>
      <td>North East Scotland</td>
      <td>NaN</td>
      <td>Aberdeen City</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">final_sites</span> <span class="o">=</span> <span class="n">meta</span><span class="o">.</span><span class="n">get_site</span><span class="p">(</span><span class="n">site_id</span><span class="o">=</span><span class="s1">&#39;ABD&#39;</span><span class="p">)</span>
<span class="n">final_sites</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="s1">&#39;site_id&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Site is selected by site_id: ABD
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>site_id</th>
      <th>site_name</th>
      <th>location_type</th>
      <th>latitude</th>
      <th>longitude</th>
      <th>parameter</th>
      <th>Parameter_name</th>
      <th>start_date</th>
      <th>end_date</th>
      <th>ratified_to</th>
      <th>zone</th>
      <th>agglomeration</th>
      <th>local_authority</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>ABD</td>
      <td>Aberdeen</td>
      <td>Urban Background</td>
      <td>57.15736</td>
      <td>-2.094278</td>
      <td>O3</td>
      <td>Ozone</td>
      <td>2003-08-01</td>
      <td>2021-09-20</td>
      <td>2021-09-20</td>
      <td>North East Scotland</td>
      <td>NaN</td>
      <td>Aberdeen City</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<ul class="simple">
<li><p>Use “start” and “end” to define a period of time.</p></li>
<li><p>Other parameters are the same as “Download data by a bounds of longitude and latitude” part</p></li>
</ul>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">meta</span><span class="o">.</span><span class="n">download_sites</span><span class="p">(</span>
    <span class="n">port</span><span class="o">=</span><span class="s2">&quot;aurn&quot;</span><span class="p">,</span>
    <span class="n">pollutant</span><span class="o">=</span><span class="s2">&quot;PM2.5&quot;</span><span class="p">,</span>
    <span class="n">start</span><span class="o">=</span><span class="s2">&quot;2017-12-01&quot;</span><span class="p">,</span>
    <span class="n">end</span><span class="o">=</span><span class="s2">&quot;2018-11-30&quot;</span><span class="p">,</span>
    <span class="n">output_dir</span><span class="o">=</span><span class="s2">&quot;data/test_pm25_siteid&quot;</span><span class="p">,</span>
    <span class="n">download_mode</span><span class="o">=</span><span class="s2">&quot;stream&quot;</span><span class="p">,</span>
    <span class="n">save_per_site</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">save_merged</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">add_site_id</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
   site_id site_name     location_type  latitude  longitude parameter  \
0      ABD  Aberdeen  Urban Background  57.15736  -2.094278        O3
1      ABD  Aberdeen  Urban Background  57.15736  -2.094278        NO
2      ABD  Aberdeen  Urban Background  57.15736  -2.094278       NO2
3      ABD  Aberdeen  Urban Background  57.15736  -2.094278  NOXasNO2
6      ABD  Aberdeen  Urban Background  57.15736  -2.094278      PM10
7      ABD  Aberdeen  Urban Background  57.15736  -2.094278      NV10
8      ABD  Aberdeen  Urban Background  57.15736  -2.094278       V10
9      ABD  Aberdeen  Urban Background  57.15736  -2.094278     PM2.5
10     ABD  Aberdeen  Urban Background  57.15736  -2.094278     NV2.5
11     ABD  Aberdeen  Urban Background  57.15736  -2.094278      V2.5
12     ABD  Aberdeen  Urban Background  57.15736  -2.094278        wd
13     ABD  Aberdeen  Urban Background  57.15736  -2.094278        ws
14     ABD  Aberdeen  Urban Background  57.15736  -2.094278      temp

                                Parameter_name  start_date    end_date  \
0                                        Ozone  2003-08-01  2021-09-20
1                                 Nitric oxide  1999-09-18  2021-09-20
2                             Nitrogen dioxide  1999-09-18  2021-09-20
3          Nitrogen oxides as nitrogen dioxide  1999-09-18  2021-09-20
6    PM10 particulate matter (Hourly measured)  1999-09-18  2021-09-20
7          Non-volatile PM10 (Hourly measured)  2009-02-20  2019-11-07
8              Volatile PM10 (Hourly measured)  2009-02-20  2019-11-07
9   PM2.5 particulate matter (Hourly measured)  2009-02-20  2021-09-20
10        Non-volatile PM2.5 (Hourly measured)  2009-02-20  2019-11-07
11            Volatile PM2.5 (Hourly measured)  2009-02-20  2019-11-07
12                     Modelled Wind Direction  2010-08-01  2021-09-20
13                         Modelled Wind Speed  2010-08-01  2021-09-20
14                        Modelled Temperature  2010-08-01  2021-09-20

   ratified_to                 zone agglomeration local_authority
0   2021-09-20  North East Scotland           NaN   Aberdeen City
1   2021-09-20  North East Scotland           NaN   Aberdeen City
2   2021-09-20  North East Scotland           NaN   Aberdeen City
3   2021-09-20  North East Scotland           NaN   Aberdeen City
6   2021-09-20  North East Scotland           NaN   Aberdeen City
7   2019-11-07  North East Scotland           NaN   Aberdeen City
8   2019-11-07  North East Scotland           NaN   Aberdeen City
9   2021-09-20  North East Scotland           NaN   Aberdeen City
10  2019-11-07  North East Scotland           NaN   Aberdeen City
11  2019-11-07  North East Scotland           NaN   Aberdeen City
12       Never  North East Scotland           NaN   Aberdeen City
13       Never  North East Scotland           NaN   Aberdeen City
14       Never  North East Scotland           NaN   Aberdeen City
Saved per-site file: data/test_pm25_siteid/ABD_PM2.5_20171201_20181130.csv
</pre></div></div>
</div>
</section>
</section>
<section id="Read-the-data-from-AURN">
<h1>Read the data from AURN<a class="headerlink" href="#Read-the-data-from-AURN" title="Link to this heading"></a></h1>
<section id="Read-the-site-data-by-a-bounds-of-longitude-and-latitude">
<h2>Read the site data by a bounds of longitude and latitude<a class="headerlink" href="#Read-the-site-data-by-a-bounds-of-longitude-and-latitude" title="Link to this heading"></a></h2>
<p>Users can give a bounds of longitude and latitude to read the site data.</p>
<section id="id1">
<h3>Load the ObsAQ package and Define the range<a class="headerlink" href="#id1" title="Link to this heading"></a></h3>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">obsaq</span>

<span class="n">lon_min</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<span class="n">lon_max</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">lat_min</span> <span class="o">=</span> <span class="mi">50</span>
<span class="n">lat_max</span> <span class="o">=</span> <span class="mi">55</span>
<span class="n">bounds</span><span class="o">=</span><span class="p">[</span><span class="n">lon_min</span><span class="p">,</span> <span class="n">lon_max</span><span class="p">,</span> <span class="n">lat_min</span><span class="p">,</span> <span class="n">lat_max</span><span class="p">]</span>
</pre></div>
</div>
</div>
</section>
<section id="id2">
<h3>Get the station metadata<a class="headerlink" href="#id2" title="Link to this heading"></a></h3>
<p>NOTE: This is the all station information and the next step will choose the stations by bounds.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">meta</span> <span class="o">=</span> <span class="n">obsaq</span><span class="o">.</span><span class="n">meta</span><span class="p">()</span>
<span class="n">site_table</span> <span class="o">=</span> <span class="n">meta</span><span class="o">.</span><span class="n">get_metadata</span><span class="p">(</span><span class="s1">&#39;aurn&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
<section id="id3">
<h3>Choose the stations by range<a class="headerlink" href="#id3" title="Link to this heading"></a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">final_sites</span> <span class="o">=</span> <span class="n">meta</span><span class="o">.</span><span class="n">get_site</span><span class="p">(</span><span class="n">bounds</span><span class="o">=</span><span class="n">bounds</span><span class="p">)</span>
<span class="n">final_sites</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Site is selected by bounds: [-1, 2, 50, 55]
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>site_id</th>
      <th>site_name</th>
      <th>location_type</th>
      <th>latitude</th>
      <th>longitude</th>
      <th>parameter</th>
      <th>Parameter_name</th>
      <th>start_date</th>
      <th>end_date</th>
      <th>ratified_to</th>
      <th>zone</th>
      <th>agglomeration</th>
      <th>local_authority</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>93</th>
      <td>AYLA</td>
      <td>Aylesbury A4157</td>
      <td>Urban Traffic</td>
      <td>51.822161</td>
      <td>-0.793884</td>
      <td>PM2.5</td>
      <td>PM2.5 particulate matter (Hourly measured)</td>
      <td>2025-08-11</td>
      <td>ongoing</td>
      <td>2025-09-30</td>
      <td>South East</td>
      <td>NaN</td>
      <td>Aylesbury Vale</td>
    </tr>
    <tr>
      <th>94</th>
      <td>AYLA</td>
      <td>Aylesbury A4157</td>
      <td>Urban Traffic</td>
      <td>51.822161</td>
      <td>-0.793884</td>
      <td>wd</td>
      <td>Modelled Wind Direction</td>
      <td>2025-08-11</td>
      <td>ongoing</td>
      <td>Never</td>
      <td>South East</td>
      <td>NaN</td>
      <td>Aylesbury Vale</td>
    </tr>
    <tr>
      <th>95</th>
      <td>AYLA</td>
      <td>Aylesbury A4157</td>
      <td>Urban Traffic</td>
      <td>51.822161</td>
      <td>-0.793884</td>
      <td>ws</td>
      <td>Modelled Wind Speed</td>
      <td>2025-08-11</td>
      <td>ongoing</td>
      <td>Never</td>
      <td>South East</td>
      <td>NaN</td>
      <td>Aylesbury Vale</td>
    </tr>
    <tr>
      <th>96</th>
      <td>AYLA</td>
      <td>Aylesbury A4157</td>
      <td>Urban Traffic</td>
      <td>51.822161</td>
      <td>-0.793884</td>
      <td>temp</td>
      <td>Modelled Temperature</td>
      <td>2025-08-11</td>
      <td>ongoing</td>
      <td>Never</td>
      <td>South East</td>
      <td>NaN</td>
      <td>Aylesbury Vale</td>
    </tr>
    <tr>
      <th>386</th>
      <td>BDMP</td>
      <td>Borehamwood Meadow Park</td>
      <td>Urban Background</td>
      <td>51.661229</td>
      <td>-0.270550</td>
      <td>NO</td>
      <td>Nitric oxide</td>
      <td>2017-10-01</td>
      <td>ongoing</td>
      <td>2025-09-30</td>
      <td>Eastern</td>
      <td>NaN</td>
      <td>Hertsmere</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<section id="Choose-a-site-by-site_id-and-read-it-directly">
<h4>Choose a site by <code class="docutils literal notranslate"><span class="pre">site_id</span></code> and read it directly<a class="headerlink" href="#Choose-a-site-by-site_id-and-read-it-directly" title="Link to this heading"></a></h4>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">obsaq</span><span class="o">.</span><span class="n">read_sites</span><span class="p">(</span><span class="s1">&#39;BDMP&#39;</span><span class="p">,</span> <span class="s1">&#39;aurn&#39;</span><span class="p">,</span> <span class="n">year</span><span class="o">=</span><span class="mi">2018</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Date</th>
      <th>time</th>
      <th>Nitric oxide</th>
      <th>status</th>
      <th>unit</th>
      <th>Nitrogen dioxide</th>
      <th>status.1</th>
      <th>unit.1</th>
      <th>Nitrogen oxides as nitrogen dioxide</th>
      <th>status.2</th>
      <th>unit.2</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>01-01-2018</td>
      <td>01:00</td>
      <td>0.25166</td>
      <td>R</td>
      <td>ugm-3</td>
      <td>4.75500</td>
      <td>R</td>
      <td>ugm-3</td>
      <td>5.14087</td>
      <td>R</td>
      <td>ugm-3</td>
    </tr>
    <tr>
      <th>1</th>
      <td>01-01-2018</td>
      <td>02:00</td>
      <td>0.12583</td>
      <td>R</td>
      <td>ugm-3</td>
      <td>6.87575</td>
      <td>R</td>
      <td>ugm-3</td>
      <td>7.06869</td>
      <td>R</td>
      <td>ugm-3</td>
    </tr>
    <tr>
      <th>2</th>
      <td>01-01-2018</td>
      <td>03:00</td>
      <td>0.28312</td>
      <td>R</td>
      <td>ugm-3</td>
      <td>5.78313</td>
      <td>R</td>
      <td>ugm-3</td>
      <td>6.21723</td>
      <td>R</td>
      <td>ugm-3</td>
    </tr>
    <tr>
      <th>3</th>
      <td>01-01-2018</td>
      <td>04:00</td>
      <td>0.22020</td>
      <td>R</td>
      <td>ugm-3</td>
      <td>3.75899</td>
      <td>R</td>
      <td>ugm-3</td>
      <td>4.09663</td>
      <td>R</td>
      <td>ugm-3</td>
    </tr>
    <tr>
      <th>4</th>
      <td>01-01-2018</td>
      <td>05:00</td>
      <td>0.18874</td>
      <td>R</td>
      <td>ugm-3</td>
      <td>3.27707</td>
      <td>R</td>
      <td>ugm-3</td>
      <td>3.56647</td>
      <td>R</td>
      <td>ugm-3</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>8755</th>
      <td>31-12-2018</td>
      <td>20:00</td>
      <td>0.28836</td>
      <td>R</td>
      <td>ugm-3</td>
      <td>12.08703</td>
      <td>R</td>
      <td>ugm-3</td>
      <td>12.52918</td>
      <td>R</td>
      <td>ugm-3</td>
    </tr>
    <tr>
      <th>8756</th>
      <td>31-12-2018</td>
      <td>21:00</td>
      <td>0.18023</td>
      <td>R</td>
      <td>ugm-3</td>
      <td>8.29340</td>
      <td>R</td>
      <td>ugm-3</td>
      <td>8.56974</td>
      <td>R</td>
      <td>ugm-3</td>
    </tr>
    <tr>
      <th>8757</th>
      <td>31-12-2018</td>
      <td>22:00</td>
      <td>0.10814</td>
      <td>R</td>
      <td>ugm-3</td>
      <td>5.52928</td>
      <td>R</td>
      <td>ugm-3</td>
      <td>5.69508</td>
      <td>R</td>
      <td>ugm-3</td>
    </tr>
    <tr>
      <th>8758</th>
      <td>31-12-2018</td>
      <td>23:00</td>
      <td>0.07209</td>
      <td>R</td>
      <td>ugm-3</td>
      <td>4.77096</td>
      <td>R</td>
      <td>ugm-3</td>
      <td>4.88150</td>
      <td>R</td>
      <td>ugm-3</td>
    </tr>
    <tr>
      <th>8759</th>
      <td>31-12-2018</td>
      <td>24:00</td>
      <td>0.00000</td>
      <td>R</td>
      <td>ugm-3</td>
      <td>4.17640</td>
      <td>R</td>
      <td>ugm-3</td>
      <td>4.17640</td>
      <td>R</td>
      <td>ugm-3</td>
    </tr>
  </tbody>
</table>
<p>8760 rows × 11 columns</p>
</div></div>
</div>
</section>
</section>
</section>
<section id="Read-data-by-a-point-of-longitude-and-latitude">
<h2>Read data by a point of longitude and latitude<a class="headerlink" href="#Read-data-by-a-point-of-longitude-and-latitude" title="Link to this heading"></a></h2>
<p>Users can give a point of longitude and latitude to read the station data.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">obsaq</span>

<span class="n">lon</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="n">lat</span> <span class="o">=</span> <span class="mf">55.0</span>
<span class="n">point</span> <span class="o">=</span> <span class="p">[</span><span class="n">lon</span><span class="p">,</span> <span class="n">lat</span><span class="p">]</span>
</pre></div>
</div>
</div>
<p>NOTE: This is the all station information and the next step will choose the stations by point.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">meta</span> <span class="o">=</span> <span class="n">obsaq</span><span class="o">.</span><span class="n">meta</span><span class="p">()</span>
<span class="n">site_table</span> <span class="o">=</span> <span class="n">meta</span><span class="o">.</span><span class="n">get_metadata</span><span class="p">(</span><span class="s1">&#39;aurn&#39;</span><span class="p">)</span>

<span class="n">site_table</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>site_id</th>
      <th>site_name</th>
      <th>location_type</th>
      <th>latitude</th>
      <th>longitude</th>
      <th>parameter</th>
      <th>Parameter_name</th>
      <th>start_date</th>
      <th>end_date</th>
      <th>ratified_to</th>
      <th>zone</th>
      <th>agglomeration</th>
      <th>local_authority</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>ABD</td>
      <td>Aberdeen</td>
      <td>Urban Background</td>
      <td>57.15736</td>
      <td>-2.094278</td>
      <td>O3</td>
      <td>Ozone</td>
      <td>2003-08-01</td>
      <td>2021-09-20</td>
      <td>2021-09-20</td>
      <td>North East Scotland</td>
      <td>NaN</td>
      <td>Aberdeen City</td>
    </tr>
    <tr>
      <th>1</th>
      <td>ABD</td>
      <td>Aberdeen</td>
      <td>Urban Background</td>
      <td>57.15736</td>
      <td>-2.094278</td>
      <td>NO</td>
      <td>Nitric oxide</td>
      <td>1999-09-18</td>
      <td>2021-09-20</td>
      <td>2021-09-20</td>
      <td>North East Scotland</td>
      <td>NaN</td>
      <td>Aberdeen City</td>
    </tr>
    <tr>
      <th>2</th>
      <td>ABD</td>
      <td>Aberdeen</td>
      <td>Urban Background</td>
      <td>57.15736</td>
      <td>-2.094278</td>
      <td>NO2</td>
      <td>Nitrogen dioxide</td>
      <td>1999-09-18</td>
      <td>2021-09-20</td>
      <td>2021-09-20</td>
      <td>North East Scotland</td>
      <td>NaN</td>
      <td>Aberdeen City</td>
    </tr>
    <tr>
      <th>3</th>
      <td>ABD</td>
      <td>Aberdeen</td>
      <td>Urban Background</td>
      <td>57.15736</td>
      <td>-2.094278</td>
      <td>NOXasNO2</td>
      <td>Nitrogen oxides as nitrogen dioxide</td>
      <td>1999-09-18</td>
      <td>2021-09-20</td>
      <td>2021-09-20</td>
      <td>North East Scotland</td>
      <td>NaN</td>
      <td>Aberdeen City</td>
    </tr>
    <tr>
      <th>4</th>
      <td>ABD</td>
      <td>Aberdeen</td>
      <td>Urban Background</td>
      <td>57.15736</td>
      <td>-2.094278</td>
      <td>SO2</td>
      <td>Sulphur dioxide</td>
      <td>2001-01-01</td>
      <td>2007-09-30</td>
      <td>2007-09-30</td>
      <td>North East Scotland</td>
      <td>NaN</td>
      <td>Aberdeen City</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">final_sites</span> <span class="o">=</span> <span class="n">meta</span><span class="o">.</span><span class="n">get_site</span><span class="p">(</span><span class="n">point</span><span class="o">=</span><span class="n">point</span><span class="p">)</span>
<span class="n">final_sites</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Site is selected by point: [0.0, 55.0]
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>site_id</th>
      <th>site_name</th>
      <th>location_type</th>
      <th>latitude</th>
      <th>longitude</th>
      <th>parameter</th>
      <th>Parameter_name</th>
      <th>start_date</th>
      <th>end_date</th>
      <th>ratified_to</th>
      <th>zone</th>
      <th>agglomeration</th>
      <th>local_authority</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1267</th>
      <td>HM</td>
      <td>High Muffles</td>
      <td>Rural Background</td>
      <td>54.334497</td>
      <td>-0.80882</td>
      <td>O3</td>
      <td>Ozone</td>
      <td>1987-07-16</td>
      <td>ongoing</td>
      <td>2025-09-30</td>
      <td>Yorkshire &amp; Humberside</td>
      <td>NaN</td>
      <td>Ryedale</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">obsaq</span><span class="o">.</span><span class="n">read_sites</span><span class="p">(</span><span class="s1">&#39;HM&#39;</span><span class="p">,</span> <span class="s1">&#39;aurn&#39;</span><span class="p">,</span> <span class="n">year</span><span class="o">=</span><span class="mi">2018</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Date</th>
      <th>time</th>
      <th>Nitric oxide</th>
      <th>status</th>
      <th>unit</th>
      <th>Nitrogen dioxide</th>
      <th>status.1</th>
      <th>unit.1</th>
      <th>Nitrogen oxides as nitrogen dioxide</th>
      <th>status.2</th>
      <th>unit.2</th>
      <th>Ozone</th>
      <th>status.3</th>
      <th>unit.3</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>01-01-2018</td>
      <td>01:00</td>
      <td>0.36708</td>
      <td>R</td>
      <td>ugm-3</td>
      <td>1.00358</td>
      <td>R</td>
      <td>ugm-3</td>
      <td>1.56642</td>
      <td>R</td>
      <td>ugm-3</td>
      <td>65.32591</td>
      <td>R</td>
      <td>ugm-3</td>
    </tr>
    <tr>
      <th>1</th>
      <td>01-01-2018</td>
      <td>02:00</td>
      <td>0.28550</td>
      <td>R</td>
      <td>ugm-3</td>
      <td>1.06600</td>
      <td>R</td>
      <td>ugm-3</td>
      <td>1.50376</td>
      <td>R</td>
      <td>ugm-3</td>
      <td>65.85810</td>
      <td>R</td>
      <td>ugm-3</td>
    </tr>
    <tr>
      <th>2</th>
      <td>01-01-2018</td>
      <td>03:00</td>
      <td>0.27531</td>
      <td>R</td>
      <td>ugm-3</td>
      <td>1.22261</td>
      <td>R</td>
      <td>ugm-3</td>
      <td>1.64474</td>
      <td>R</td>
      <td>ugm-3</td>
      <td>67.15531</td>
      <td>R</td>
      <td>ugm-3</td>
    </tr>
    <tr>
      <th>3</th>
      <td>01-01-2018</td>
      <td>04:00</td>
      <td>0.24472</td>
      <td>R</td>
      <td>ugm-3</td>
      <td>1.26951</td>
      <td>R</td>
      <td>ugm-3</td>
      <td>1.64474</td>
      <td>R</td>
      <td>ugm-3</td>
      <td>66.40692</td>
      <td>R</td>
      <td>ugm-3</td>
    </tr>
    <tr>
      <th>4</th>
      <td>01-01-2018</td>
      <td>05:00</td>
      <td>0.30590</td>
      <td>R</td>
      <td>ugm-3</td>
      <td>2.16255</td>
      <td>R</td>
      <td>ugm-3</td>
      <td>2.63159</td>
      <td>R</td>
      <td>ugm-3</td>
      <td>66.20735</td>
      <td>R</td>
      <td>ugm-3</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>8755</th>
      <td>31-12-2018</td>
      <td>20:00</td>
      <td>0.30417</td>
      <td>R</td>
      <td>ugm-3</td>
      <td>1.38387</td>
      <td>R</td>
      <td>ugm-3</td>
      <td>1.85025</td>
      <td>R</td>
      <td>ugm-3</td>
      <td>70.34843</td>
      <td>R</td>
      <td>ugm-3</td>
    </tr>
    <tr>
      <th>8756</th>
      <td>31-12-2018</td>
      <td>21:00</td>
      <td>0.23657</td>
      <td>R</td>
      <td>ugm-3</td>
      <td>1.27605</td>
      <td>R</td>
      <td>ugm-3</td>
      <td>1.63879</td>
      <td>R</td>
      <td>ugm-3</td>
      <td>70.39832</td>
      <td>R</td>
      <td>ugm-3</td>
    </tr>
    <tr>
      <th>8757</th>
      <td>31-12-2018</td>
      <td>22:00</td>
      <td>0.33796</td>
      <td>R</td>
      <td>ugm-3</td>
      <td>1.17346</td>
      <td>R</td>
      <td>ugm-3</td>
      <td>1.69166</td>
      <td>R</td>
      <td>ugm-3</td>
      <td>69.89939</td>
      <td>R</td>
      <td>ugm-3</td>
    </tr>
    <tr>
      <th>8758</th>
      <td>31-12-2018</td>
      <td>23:00</td>
      <td>0.50694</td>
      <td>R</td>
      <td>ugm-3</td>
      <td>1.44300</td>
      <td>R</td>
      <td>ugm-3</td>
      <td>2.22030</td>
      <td>R</td>
      <td>ugm-3</td>
      <td>68.85165</td>
      <td>R</td>
      <td>ugm-3</td>
    </tr>
    <tr>
      <th>8759</th>
      <td>31-12-2018</td>
      <td>24:00</td>
      <td>0.40556</td>
      <td>R</td>
      <td>ugm-3</td>
      <td>1.70419</td>
      <td>R</td>
      <td>ugm-3</td>
      <td>2.32603</td>
      <td>R</td>
      <td>ugm-3</td>
      <td>67.85380</td>
      <td>R</td>
      <td>ugm-3</td>
    </tr>
  </tbody>
</table>
<p>8760 rows × 14 columns</p>
</div></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Haofan Wang, Zhonghua Zheng.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>